TRA_DIR = ../Tra
GEO_DIR = ../Geo

CC = g++

all: main clean

OBJECTS = main.o tra_test.o traj_helper.o traj.o sample_point.o utils.o
main: $(OBJECTS)
	$(CC) -Wall $(OBJECTS) -o $@

tra_test.o: tra_test.cc
	$(CC) -Wall -c -o $@ $<

main.o: main.cc
	$(CC) -Wall -c -o $@ $<

TRAJ_HELPER_OBJS = $(TRA_DIR)/trajectory_helper.h $(TRA_DIR)/trajectory_helper.cc
traj_helper.o: $(TRAJ_HELPER_OBJS)
	$(CC) -Wall -c -o $@ $(TRA_DIR)/trajectory_helper.cc

traj.o: $(TRA_DIR)/trajectory.cc $(TRA_DIR)/trajectory.h
	$(CC) -Wall -c -o $@ $<

sample_point.o: $(TRA_DIR)/sample_point.cc $(TRA_DIR)/sample_point.h
	$(CC) -Wall -std=c++11 -c -o $@ $<

utils.o: $(TRA_DIR)/utils.cc $(TRA_DIR)/utils.h
	$(CC) -Wall -c -o $@ $<

clean:
	rm -rf *.o
